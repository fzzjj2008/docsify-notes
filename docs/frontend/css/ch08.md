# ch08 CSS3新特性

CSS3增加了一些新的特性，但是有<font color='red'>兼容性问题（IE9+以上浏览器支持）</font>

## 8.1 CSS3新增选择器

### 8.1.1 属性选择器

- **属性选择器**：不借助`class`属性就可以选择某个元素

| 选择符          | 简介                                |
| --------------- | ----------------------------------- |
| `E[att]`        | 选择具有att属性的E元素              |
| `E[att="val"]`  | 选择具有att属性且值等于val的E元素   |
| `E[att^="val"]` | 匹配具有att属性且值以val开头的E元素 |
| `E[att$="val"]` | 匹配具有att属性且值以val结尾的E元素 |
| `E[att*="val"]` | 匹配具有att属性且值中含有val的E元素 |

【例1】选择具有value属性的`<input>`元素

```html
<style>
    .selector1 input[value] {
        color: pink;
    }
</style>
<div class="selector1">
    <input type="text" value="请输入用户名">
    <input type="text">
</div>
```

<div class="show-html">
<style>
    .selector1 input[value] {
        color: pink;
    }
</style>
<div class="selector1">
    <input type="text" value="请输入用户名">
    <input type="text">
</div>
</div>

【例2】只选择文本框，文本框输入文字颜色改为粉色

```html
<style>
    .selector2 input[type=text] {
        color: pink;
    }
</style>
<div class="selector2">
    <input type="text">
    <input type="password">
</div>
```

<div class="show-html">
<style>
    .selector2 input[type=text] {
        color: pink;
    }
</style>
<div class="selector2">
    <input type="text">
    <input type="password">
</div>
</div>

> [!NOTE]
>
> 类选择器、属性选择器、伪类选择器，权重为0,0,1,0

### 8.1.2 结构伪类选择器

- **结构伪类选择器**：主要根据**文档结构**来选择器元素，常用于根据父级选择器里面的子元素。

| 选择符             | 简介                        |
| ------------------ | --------------------------- |
| `E:first-child`    | 匹配父元素中的第一个子元素E |
| `E:last-child`     | 匹配父元素中最后一个E元素   |
| `E:nth-child(n)`   | 匹配父元素中的第n个子元素E  |
| `E:first-of-type`  | 指定类型E的第一个           |
| `E:last-of-type`   | 指定类型E的最后一个         |
| `E:nth-of-type(n)` | 指定类型E的第n个            |

其中，`nth-child(key)`的`key`可以是数字、关键字、公式（未知数必须是`n`，`n`从0开始计算。<font color='red'>选出的元素为第0个或者超出范围则会被忽略</font>）

| key      | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| 2        | 选择第2个元素                                                |
| even/odd | 选择偶数/奇数行的元素                                        |
| n        | 选择所有的元素（0、1、2、...），0忽略                        |
| 2n-1     | 选择第2n-1行的元素，等价于奇数（1、3、5、...）               |
| 2n       | 选择第2n行的元素，等价于偶数（0、2、4、...），0忽略          |
| n+3      | 选择第n+3行的元素，等价于选择（3、4、5、...）                |
| -n+3     | 选择第3-n行的元素，等价于选择（0、1、2、3），0忽略。<font color='red'>不能写成3-n</font> |

关于 `nth-of-type` 与 `nth-of-child`

- `E:nth-child(n)`：先找第n个子元素，在看看是否元素满足与E匹配
- `E:nth-of-type(n)`：先匹配E，再找第n个匹配的子元素

【例1】选择列表的第1个标签

```html
<style>
    .selector3 ul li:first-child {
        background-color: pink;
    }
</style>
<div class="selector3">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
    </ul>
</div>
```

<div class="show-html">
<style>
    .selector3 ul li:first-child {
        background-color: pink;
    }
</style>
<div class="selector3">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
    </ul>
</div>
</div>

**【例2】列表隔行变色**（1, 3, ...）

```html
<style>
    .selector4 ul li:nth-child(2n-1) {
        background-color: pink;
    }
</style>
<div class="selector4">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
        <li>list4</li>
    </ul>
</div>
```

<div class="show-html">
<style>
    .selector4 ul li:nth-child(2n-1) {
        background-color: pink;
    }
</style>
<div class="selector4">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
        <li>list4</li>
    </ul>
</div>
</div>

【例3】选择>=3的元素（3, 4, ...）

```html
<style>
    .selector5 ul li:nth-child(n+3) {
        background-color: pink;
    }
</style>
<div class="selector5">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
        <li>list4</li>
    </ul>
</div>
```

<div class="show-html">
<style>
    .selector5 ul li:nth-child(n+3) {
        background-color: pink;
    }
</style>
<div class="selector5">
    <ul>
        <li>list1</li>
        <li>list2</li>
        <li>list3</li>
        <li>list4</li>
    </ul>
</div>
</div>

【例4】nth-of-type，找到div的第2个子元素

```html
<style>
    /* 只找div的子元素，找到第2个子元素list2 */
    .selector6 div:nth-of-type(2) {
        background-color: pink;
    }
    /* 找第2个子元素，发现与div匹配，即list1 */
    .selector6 div:nth-child(2) {
        background-color: skyblue;
    }    
</style>
<div class="selector6">
    <p>p1</p>
    <div>list1</div>
    <div>list2</div>
    <div>list3</div>
</div>
```

<div class="show-html">
<style>
    .selector6 div:nth-of-type(2) {
        background-color: pink;
    }
    .selector6 div:nth-child(2) {
        background-color: skyblue;
    }    
</style>
<div class="selector6">
    <p>p1</p>
    <div>list1</div>
    <div>list2</div>
    <div>list3</div>
</div>
</div>



### 8.1.3 伪元素选择器





## 8.2 盒子模型



