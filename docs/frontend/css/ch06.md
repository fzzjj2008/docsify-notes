# ch06 CSS高级

## 6.1 精灵图

【问题】网页中小图片过多时，服务器将频繁接收和发送请求图片，造成服务器请求压力过大

【解决】把小图片整合到大图片内，有效降低对服务器的接收和请求次数，提高页面加载速度。出现CSS精灵技术（**局部性原理**）

- **技术核心**
  - 精灵图主要针对于小的背景图片使用
  - 主要借助于背景位置`background-position`来实现
  - 一般情况下精灵图都是负值（千万注意网页中的坐标： x 轴右边走是正值，左边走是负值， y 轴同理）

【例】对以下精灵图片，拼出自己的名字

![abcd](https://cdn.docjerry.top/html/abcd.jpg)

```html
<style>
    .sprite span {
        display: inline-block;
        background: url(https://cdn.docjerry.top/html/abcd.jpg) no-repeat;
    }
    .sprite .j {
        width: 105px;
        height: 110px;
        background-position: -389px -143px;
    }
    .sprite .e {
        width: 96px;
        height: 110px;
        background-position: -484px -8px;
    }
    .sprite .r {
        width: 112px;
        height: 110px;
        background-position: -137px -416px;
    }
    .sprite .y {
        width: 111px;
        height: 110px;
        background-position: -366px -556px;
    }
</style>
<div class="sprite">
    <span class="j"></span>
    <span class="e"></span>
    <span class="r"></span>
    <span class="r"></span>
    <span class="y"></span>
</div>
```

<div class="show-html">
<style>
    .sprite span {
        display: inline-block;
        background: url(https://cdn.docjerry.top/html/abcd.jpg) no-repeat;
    }
    .sprite .j {
        width: 105px;
        height: 110px;
        background-position: -389px -143px;
    }
    .sprite .e {
        width: 96px;
        height: 110px;
        background-position: -484px -8px;
    }
    .sprite .r {
        width: 112px;
        height: 110px;
        background-position: -137px -416px;
    }
    .sprite .y {
        width: 111px;
        height: 110px;
        background-position: -366px -556px;
    }
</style>
<div class="sprite">
    <span class="j"></span>
    <span class="e"></span>
    <span class="r"></span>
    <span class="r"></span>
    <span class="y"></span>
</div>
</div>

## 6.2 字体图标iconfont

【问题】精灵图图片文件较大、放大缩小有失真、制作完成修改麻烦

【解决】轻量级图片使用字体图标。展示的是图标，本质属于字体

- 轻量级：一个图标字体要比一系列的图像要小。一旦字体加载了，图标就会马上渲染出来，减少了服务器请求
- 灵活性：本质其实是文字，可以很随意的改变颜色、产生阴影、透明效果、旋转等
- 兼容性：几乎支持所有的浏览器，请放心使用

【注意】字体图标不能替代精灵技术，只是对工作中图标部分技术的提升和优化。

**总结**

1. 如果遇到一些结构和样式比较简单的小图标，就用字体图标。
2. 如果遇到一些结构和样式复杂一点的小图片，就用精灵图。

**推荐下载网站**

- icomoon 字库： [http://icomoon.io](http://icomoon.io/)
- 阿里 iconfont 字库 [http://www.iconfont.cn](http://www.iconfont.cn/)

```html
<style>
    /* 字体声明 */
    @font-face {
        font-family: 'icomoon';
        src: url('frontend/css/fonts/icomoon.eot?p4ssmb');
        src: url('frontend/css/fonts/icomoon.eot?p4ssmb#iefix') format('embedded-opentype'),
            url('frontend/css/fonts/icomoon.ttf?p4ssmb') format('truetype'),
            url('frontend/css/fonts/icomoon.woff?p4ssmb') format('woff'),
            url('frontend/css/fonts/icomoon.svg?p4ssmb#icomoon') format('svg');
        font-weight: normal;
        font-style: normal;
        font-display: block;
    }
    .iconfont {
        font-family: 'icomoon';
        font-size: 20px;
        color: grey;
    }
</style>
<span class="iconfont"></span>
```

<div class="show-html">
<style>
    /* 字体声明 */
    @font-face {
        font-family: 'icomoon';
        src: url('frontend/css/fonts/icomoon.eot?p4ssmb');
        src: url('frontend/css/fonts/icomoon.eot?p4ssmb#iefix') format('embedded-opentype'),
            url('frontend/css/fonts/icomoon.ttf?p4ssmb') format('truetype'),
            url('frontend/css/fonts/icomoon.woff?p4ssmb') format('woff'),
            url('frontend/css/fonts/icomoon.svg?p4ssmb#icomoon') format('svg');
        font-weight: normal;
        font-style: normal;
        font-display: block;
    }
    .iconfont {
        font-family: 'icomoon';
        font-size: 20px;
        color: grey;
    }
</style>
<span class="iconfont"></span>
</div>

