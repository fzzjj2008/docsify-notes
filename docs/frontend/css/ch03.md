# ch03 CSS权重和布局

## 3.1 CSS权重

【问题】同一个HTML标签可能会使用好几个CSS样式。那么最终浏览器在显示的时候会显示哪个样式呢？

【回答】这里涉及到CSS样式的权重，包括：**层叠性**、**继承性**、**优先级**

### 3.1.1 层叠性原则

- **样式不冲突**：不会层叠
- **样式冲突**：选择器相同时，后面的样式会代替前面的样式（<font color='red'>后来者居上</font>）。选择器不同时，依靠**优先级原则**

```html
<style>
    .nav1 {
        color: red;
    }
    .nav1 {
        color: pink;
    }
</style>
<div class="nav1">hello world!</div>
```

<div class="show-html">
<style>
    .nav1 {
        color: red;
    }
    .nav1 {
        color: pink;
    }
</style>
<div class="nav1">hello world!</div>
</div>



### 3.1.2 继承性原则

- CSS 中子标签会<font color='red'>继承父标签</font>的某些样式，如文本颜色和字号
- 行高的继承性：可以指定倍数，让所有子元素乘以该倍数

```html
<style>
    .nav2 {
        color: red;
        font: 16px/2 'Microsoft YaHei';
    }
    .nav2 div {
        font-size: 20px;
    }
    .nav2 ul li {
        font-size: 14px;
    }
</style>
<div class="nav2">
    <div>行高40px</div>
    <ul>
        <li>行高28px</li>
    </ul>
</div>
```

<div class="show-html">
<style>
    .nav2 {
        color: red;
        font: 16px/2 'Microsoft YaHei';
    }
    .nav2 div {
        font-size: 20px;
    }
    .nav2 ul li {
        font-size: 14px;
    }
</style>
<div class="nav2">
    <div>行高40px</div>
    <ul>
        <li>行高28px</li>
    </ul>
</div>
</div>



### 3.1.3 优先级原则

- 选择器相同时，后面的样式会代替前面的样式（<font color='red'>后来者居上</font>）。
- 选择器不同时，依靠**<font color='red'>优先级原则</font>**：选择**权重最大**的选择器作为CSS样式

| 选择器               | 选择器权重     |
| -------------------- | -------------- |
| 继承或者`*`          | `0,0,0,0`      |
| 元素选择器           | `0,0,0,1`      |
| 类选择器，伪类选择器 | `0,0,1,0`      |
| ID 选择器            | `0,1,0,0`      |
| 行内样式 `style=""`  | `1,0,0,0`      |
| `!important`         | $\infty$无穷大 |

> [!NOTE]
>
> - 继承的权重为0，即使父元素是`!important`，子元素认为权重仍然是0
> - 对于`<a>`超链接，浏览器默认指定了一个样式：蓝色、下划线。因此要使用高权重的CSS样式修改

【例】优先级CSS测试

```html
<style>
    /* 权重: 0,0,1,0 */
    .child {
        color: red;
    }
    /* 权重: 0,0,2,0 */
    .nav3 .child {
        color: pink;
    }
</style>
<ul class="nav3">
    <li class="child">优先级CSS</li>
</ul>
```

<div class="show-html">
<style>
    /* 权重: 0,0,1,0 */
    .child {
        color: red;
    }
    /* 权重: 0,0,2,0 */
    .nav3 .child {
        color: pink;
    }
</style>
<ul class="nav3">
    <li class="child">优先级CSS</li>
</ul>
</div>



【例】继承CSS测试

```html
<style>
    /* 继承: 子元素认为权重是0 */
    .nav4 {
        color: red !important;
    }
    /* 权重: 0,0,1,1 */
    .nav4 li {
        color: pink;
    }
</style>
<ul class="nav4">
    <li>继承CSS</li>
</ul>
```

<div class="show-html">
<style>
    /* 继承: 子元素认为权重是0 */
    .nav4 {
        color: red !important;
    }
    /* 权重: 0,0,0,1 */
    .nav4 li {
        color: pink;
    }
</style>
<ul class="nav4">
    <li>继承CSS</li>
</ul>
</div>



## 3.2 CSS盒子模型

